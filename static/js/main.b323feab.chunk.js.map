{"version":3,"sources":["logo.svg","components/Entry.js","components/RoomComponent.js","components/DrawCanvas.js","components/DrawComponent.js","components/GuessComponent.js","components/GamePhaseComponent.js","components/ChainLinkView.js","components/SpectateComponent.js","components/StartComponent.js","components/GameComponent.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","styles","layout","textField","margin","Entry","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleCreateRoom","state","nickName","onCreateRoom","roomName","toUpperCase","console","log","window","alert","handleJoinRoom","onJoinRoom","_this2","react_default","a","createElement","style","src","logo","className","alt","display","flexDirection","TextField_default","label","value","onChange","event","setState","target","required","Button_default","variant","onClick","flex","Link_default","href","Component","paper","padding","divider","settingsContainer","settingsRow","marginBottom","marginLeft","marginRight","RoomComponent","componentDidMount","userRef","roomRef","child","on","snapshot","val","users","sharedRef","sharedState","activePlayersRef","activePlayers","handleSaveButton","set","handleStartButton","userIDs","keys","usersLength","length","order","prev","i","next","transaction","currentData","settings","assign","players","error","committed","getUserIcon","userInGame","Tooltip_default","title","Close_default","Check_default","getUserListItems","map","key","index","ListItem_default","ListItemIcon_default","ListItemText_default","primary","primaryTypographyProps","reduce","curr","Divider_default","drawTime","off","Paper_default","Typography_default","maxRounds","type","List_default","userID","canvas","position","height","width","top","left","canvasContainer","paddingTop","maxHeight","maxWidth","toolbar","gridTemplateColumns","gridColumnGap","colours","justifySelf","gridRowGap","gridTemplateRows","svg","misc","UndoStack","undo","endIdx","Math","max","stack","slice","redo","min","push","element","DrawCanvas","handleMouseDown","_this2$getCursorPosit","getCursorPosition","_this2$getCursorPosit2","slicedToArray","x","y","drawCircle","ctx","beginPath","moveTo","penDown","handleMouseUp","closePath","_this2$getCursorPosit3","_this2$getCursorPosit4","saveImage","handleMouseMove","_this2$getCursorPosit5","_this2$getCursorPosit6","lineTo","stroke","handleTouchStart","touches","handleTouchEnd","preventDefault","handleTouchMove","handleKeyDown","ctrlKey","undoImage","shiftKey","redoImage","rect","refs","getBoundingClientRect","clientX","clientY","arc","radius","PI","fill","clearscreen","fillStyle","fillscreen","colour","fillRect","drawImage","base64EncodedImage","image","Image","onload","undoStack","toDataURL","pop","handleNewRadius","handleColour","backgroundColor","getContext","ontouchmove","strokeStyle","lineWidth","_this3","onKeyDown","tabIndex","outline","ref","onMouseDown","onMouseUp","onMouseMove","onTouchStart","onTouchEnd","placement","bind","cx","cy","r","IconButton_default","Undo_default","Redo_default","Delete_default","DrawComponent","progressPresenseRef","progressRef","chainID","onDisconnect","remove","ready","timer","intervalID","setInterval","clearInterval","handleConfirmDrawing","componentWillUnmount","chainRef","update","drawing","gameRef","then","cancel","data","word","DrawCanvas_DrawCanvas","numNotReady","GuessComponent","componentWillUnount","handleConfirmGuess","guess","GamePhaseComponent","componentDidUpdate","prevProps","updateChainLinkData","numNotReadyListener","limitToLast","once","chainLinkData","getMainComponent","GuessComponent_GuessComponent","DrawComponent_DrawComponent","ChainLinkView","chainContainer","headerContainer","SpectateComponent","synced","chains","forEach","chainSnapshot","thisChain","chainLinkSnapshot","handleStartSync","driverID","handleBecomeDriver","handleNext","chainIDs","idx","indexOf","handlePrevious","handleLeave","onLeave","getChainItems","chainLink","ChainLinkView_ChainLinkView","getHeader","disabled","StartComponent","handleConfirmWord","prevNick","prevID","GameComponent","presenseRef","progressGame","mainView","nextChain","calculateCurrentRoundNumber","roundNumber","undefined","GamePhaseComponent_GamePhaseComponent","SpectateComponent_SpectateComponent","StartComponent_StartComponent","viewProps","App","joinIfNotExist","onJoinedRoom","createRandomRoom","joinIfExist","onSuccess","onError","randomName","onRoomExist","roomUrl","firebase","database","onNoRoom","hasChild","buf","Uint8Array","crypto","getRandomValues","Array","from","decimal","toString","substr","join","handleLeaveGame","RoomComponent_RoomComponent","GameComponent_GameComponent","Entry_Entry","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.b323feab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ac288ddb.svg\";","import React, { Component } from 'react';\nimport logo from '../logo.svg';\n\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = {\n  layout: {\n    \n  },\n  textField: {\n    margin: '5px',\n  },\n}\n\n/**\n * Small entry component to create or join a room.\n *\n * Sends a create or join fetch request to the server. Server will respond\n * with a URL to open an EventSource with.\n */\nexport default class Entry extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      roomName: '',\n      nickName: '',\n    };\n  }\n\n  /***************************************************************************\n   * Button Events                                                           *\n   ***************************************************************************/\n\n  // Consider skipping this process and simply calling onJoinRoom with a flag\n  // to create the room if none exists.\n  handleCreateRoom = () => {\n    if (!this.state.nickName) {\n      window.alert(\"No nickname entered.\");\n      return;\n    }\n\n    if (this.props.onCreateRoom) {\n      this.props.onCreateRoom(this.state.roomName.toUpperCase(), this.state.nickName);\n    } else {\n      console.log(\"Component was not given a create room handler.\");\n    }\n  }\n  \n  handleJoinRoom = () => {\n    if (!this.state.nickName) {\n      window.alert(\"No nickname entered.\");\n      return;\n    }\n    if (!this.state.roomName) {\n      window.alert(\"No room name entered.\");\n      return;\n    }\n\n    if (this.props.onJoinRoom) {\n      this.props.onJoinRoom(this.state.roomName.toUpperCase(), this.state.nickName);\n    } else {\n      console.log(\"Component was not given a join room handler.\");\n    }\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <div style={{display: 'flex', flexDirection: 'column'}}>\n          <TextField\n            label='Room Name'\n            value={this.state.roomName}\n            onChange={(event) => this.setState({roomName: event.target.value})}\n            style={styles.textField}\n          />\n          <TextField\n            required\n            label='Nickname'\n            value={this.state.nickName}\n            onChange={(event) => this.setState({nickName: event.target.value})}\n            style={styles.textField}\n          />\n          <div style={{display: 'flex', flexDirection: 'row'}}>\n            <Button\n              variant='contained'\n              onClick={this.handleCreateRoom}\n              style={{flex: '1 1 auto', margin: '5px'}}\n            >\n              Create Room\n            </Button>\n            <Button\n              variant='contained'\n              onClick={this.handleJoinRoom}\n              style={{flex: '1 1 auto', margin: '5px'}}\n            >\n              Join Room\n            </Button>\n          </div>\n          <Link href='https://github.com/Subtlemon/ChalkChain' variant='body1'>\n            View Source on Github\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\n// Material-ui core.\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\n// Icons.\nimport UserActive from '@material-ui/icons/Check';\nimport UserInactive from '@material-ui/icons/Close';\n\nconst styles = {\n  layout: {\n\n  },\n  paper: {\n    padding: '30px',\n    margin: '10px',\n  },\n  divider: {\n    margin: '10px',\n  },\n  settingsContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  settingsRow: {\n    marginBottom: '10px',\n  },\n  textField: {\n    marginLeft: '5px',\n    marginRight: '5px',\n  }\n};\n\nexport default class RoomComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users: [],\n      sharedState: {\n        drawTime: 60,\n      },\n    };\n  }\n\n  /***************************************************************************\n   * Lifecycle functions                                                     *\n   ***************************************************************************/\n\n  componentDidMount = () => {\n    // Register a listener for users to update list of users in room.\n    this.userRef = this.state.roomRef.child('users');\n    this.userRef.on('value', (snapshot) => {\n      if (snapshot.val()) {\n        // Construct array of object's values' nickName.\n        this.setState({\n          users: snapshot.val(),\n        });\n      }\n    });\n\n    // Register a listener for shared room state, such as round time limit.\n    this.sharedRef = this.state.roomRef.child('waitingState');\n    this.sharedRef.on('value', (snapshot) => {\n      if (snapshot.val()) {\n        this.setState({\n          sharedState: snapshot.val()\n        });\n      }\n    });\n\n    // Register a listener for the list of players still in game.\n    this.activePlayersRef = this.state.roomRef.child('game').child('activePlayers');\n    this.activePlayersRef.on('value', (snapshot) => {\n      this.setState({\n        activePlayers: snapshot.val()\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.userRef.off('value');\n    this.sharedRef.off('value');\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      roomRef: props.roomRef,\n      roomName: props.roomName,\n      userID: props.userID,\n    };\n  }\n\n  /***************************************************************************\n   * Button Events                                                           *\n   ***************************************************************************/\n\n  handleSaveButton = (event) => {\n    // This assumes set cannot fail.\n    this.sharedRef.set(this.state.sharedState);\n  }\n\n  handleStartButton = (event) => {\n    if (!this.state.users) {\n      window.alert('Internal Error: No users found.');\n      return;\n    }\n\n    // Determine gameplay order based on user state.\n    const userIDs = Object.keys(this.state.users);\n    const usersLength = userIDs.length;\n    if (usersLength < 2) {\n      window.alert(\"Can't start game with less than 2 players.\");\n      return;\n    }\n    let order = {};\n    order[userIDs[0]] = {\n      prev: userIDs[usersLength - 1],\n    };\n    for (let i = 1; i < usersLength; ++i) {\n      order[userIDs[i]] = {\n        prev: userIDs[i-1],\n      };\n      order[userIDs[i-1]].next = userIDs[i];\n    }\n    order[userIDs[usersLength - 1]].next = userIDs[0];\n\n    return this.state.roomRef.child('game').transaction((currentData) => {\n      if (currentData === null) {\n        return {\n          settings: Object.assign(this.state.sharedState, {\n            order: order,\n            players: this.state.users,\n          }),\n        };\n      } else {\n        return; // Abort the transaction.\n      };\n    }, (error, committed, snapshot) => {\n      if (error) {\n        window.alert('Error: ' + error);\n      } else if (!committed) {\n        window.alert('Game is already started.');\n      } else {\n        console.log('Game started successfully.');\n      }\n    });\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  getUserIcon = (userInGame) => {\n    if (userInGame) {\n      return (\n        <Tooltip title='In Game'>\n          <UserInactive />\n        </Tooltip>\n      );\n    } else {\n      return (\n        <Tooltip title='Ready'>\n          <UserActive />\n        </Tooltip>\n      );\n    }\n  }\n\n  getUserListItems = () => {\n    if (this.state.users && Object.keys(this.state.users).length) {\n      return Object.keys(this.state.users).map((key, index) => {\n        let userInGame = this.state.activePlayers && key in this.state.activePlayers;\n        return (\n          <ListItem key={key}>\n            <ListItemIcon>\n              {this.getUserIcon(userInGame)}\n            </ListItemIcon>\n            <ListItemText\n              primary={this.state.users[key].nickName}\n              primaryTypographyProps={{variant: 'h6'}}\n            />\n          </ListItem>\n        );\n      }).reduce((prev, curr) => [prev, <Divider key={prev+'div'} />, curr]);\n    } else {\n      return (\n        <ListItem>\n          <ListItemText primary=\"You've somehow entered a ghost room.\n            It's probably in your best interest to leave.\"/>\n        </ListItem>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        <Paper style={styles.paper}>\n          <Typography variant='h4'>\n            Room Name: <b>{this.state.roomName}</b>\n          </Typography>\n          <Typography variant='subtitle1'>\n            Ask your friends to join using the above room name!\n          </Typography>\n          <Divider variant='middle' style={styles.divider} />\n          <div style={styles.settingsContainer}>\n            <div style={styles.settingsRow}>\n              <TextField\n                label={'Max rounds (default ' + Object.keys(this.state.users).length + ')'}\n                value={this.state.sharedState.maxRounds || ''}\n                onChange={(event) => this.setState({sharedState: {maxRounds: event.target.value}})}\n                style={styles.textField}\n              />\n              <TextField\n                required\n                label='Seconds per drawing'\n                type='number'\n                value={this.state.sharedState.drawTime}\n                onChange={(event) => this.setState({sharedState: {drawTime: event.target.value}})}\n                style={styles.textField}\n              />\n            </div>\n            <Button variant='contained' onClick={this.handleSaveButton}>Save Settings</Button>\n          </div>\n        </Paper>\n        <Paper style={styles.paper}>\n          <Typography variant='h5'>\n            Lobby\n          </Typography>\n          <List>\n            {this.getUserListItems()}\n          </List>\n          <Button variant='contained' onClick={this.handleStartButton}>Start Game</Button>\n        </Paper>\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport ClearIcon from '@material-ui/icons/Delete';\nimport UndoIcon from '@material-ui/icons/Undo';\nimport RedoIcon from '@material-ui/icons/Redo';\n\nconst styles = {\n  canvas: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    top: '0',\n    left: '0',\n  },\n  canvasContainer: {\n    position: 'relative',\n    paddingTop: '100%',\n    width: '100%',\n    maxHeight: '500px',\n    maxWidth: '500px',\n  },\n  divider: {\n    margin: '10px',\n  },\n  toolbar: {\n    display: 'grid',\n    gridTemplateColumns: 'auto auto',\n    gridColumnGap: '10px',\n  },\n  colours: {\n    justifySelf: 'center',\n    display: 'grid',\n    gridColumnGap: '5px',\n    gridRowGap: '5px',\n    gridTemplateColumns: '40px 40px 40px 40px 40px',\n    gridTemplateRows: '40px 40px',\n  },\n  svg: {\n    height: '100%',\n    width: '100%',\n  },\n  misc: {\n    justifySelf: 'center',\n    display: 'grid',\n    gridColumnGap: '5px',\n    gridRowGap: '5px',\n    gridTemplateColumns: '40px 40px 40px',\n    gridTemplateRows: '40px 40px',\n  },\n};\n\nclass UndoStack {\n  constructor() {\n    this.stack = [];\n    this.endIdx = 0;\n  }\n\n  undo = () => {\n    this.endIdx = Math.max(0, this.endIdx - 1);\n    return this.stack.slice(0, this.endIdx);\n  }\n\n  redo = () => {\n    this.endIdx = Math.min(this.stack.length, this.endIdx + 1);\n    return this.stack.slice(0, this.endIdx);\n  }\n\n  push = (element) => {\n    const maxUndos = 20;\n    this.stack = this.stack.slice(Math.max(0, this.endIdx - 20), this.endIdx);\n    this.stack.push(element);\n    this.endIdx = this.stack.length;\n  }\n}\n\n// Assumes canvas cannot transform.\nexport default class DrawCanvas extends Component {\n  constructor(props) {\n    super(props);\n\n    this.undoStack = new UndoStack();\n    this.state = {\n      colour: 'black',\n      radius: 3,\n    };\n  }\n\n  componentDidMount() {\n    let canvas = this.refs.canvas;\n    this.ctx = canvas.getContext('2d');\n\n    // Resize the canvas to fit parent.\n    const rect = canvas.getBoundingClientRect();\n    canvas.width = rect.width;\n    canvas.height = rect.height;\n\n    this.clearscreen();\n\n    // Workaround to enable preventDefault()\n    // https://github.com/facebook/react/issues/9809\n    canvas.ontouchmove = this.handleTouchMove;\n  }\n\n  componentDidUpdate() {\n    this.ctx.fillStyle = this.state.colour;\n    this.ctx.strokeStyle = this.state.colour;\n    this.ctx.lineWidth = this.state.radius * 2;\n  }\n\n  componentWillUnmount() {\n    delete this.ctx;\n  }\n\n  /***************************************************************************\n   * Canvas Events                                                           *\n   ***************************************************************************/\n\n  handleMouseDown = (event) => {\n    const [x, y] = this.getCursorPosition(event);\n    this.drawCircle(x, y);\n    this.ctx.beginPath();\n    this.ctx.moveTo(x, y);\n    this.setState({penDown: true});\n  }\n\n  handleMouseUp = (event) => {\n    if (this.state.penDown) {\n      this.ctx.closePath();\n      const [x, y] = this.getCursorPosition(event);\n      this.drawCircle(x, y);\n      this.saveImage() // Hacky undo/redo.\n    }\n    this.setState({penDown: false});\n  }\n\n  handleMouseMove = (event) => {\n    if (this.state.penDown) {\n      const [x, y] = this.getCursorPosition(event);\n      this.ctx.lineTo(x, y);\n      this.ctx.stroke();\n    }\n  }\n\n  handleTouchStart = (event) => {\n    if (event.touches.length) {\n      this.handleMouseDown(event.touches[0]);\n    }\n  }\n\n  handleTouchEnd = (event) => {\n    // touchend events have no touch list.\n    this.handleMouseUp(event);\n    // When the touch event doesn't move, mouseup would be (double) fired next.\n    event.preventDefault();\n  }\n\n  handleTouchMove = (event) => {\n    if (event.touches.length) {\n      event.preventDefault();\n      this.handleMouseMove(event.touches[0]);\n    }\n  }\n\n  handleKeyDown = (event) => {\n    if (event.ctrlKey && event.key === 'z') {\n      this.undoImage();\n    } else if (event.ctrlKey && event.shiftKey && event.key === 'Z') {\n      this.redoImage();\n    }\n  }\n\n  /***************************************************************************\n   * Canvas Helpers                                                          *\n   ***************************************************************************/\n\n  getCursorPosition = (event, canvas) => {\n    const rect = this.refs.canvas.getBoundingClientRect();\n    return [event.clientX - rect.left, event.clientY - rect.top];\n  }\n\n  /**\n   * Draws a circle of radius defined by state centered at x and y.\n   */\n  drawCircle = (x, y) => {\n    this.ctx.beginPath();\n    this.ctx.arc(x, y, this.state.radius, 0, 2 * Math.PI);\n    this.ctx.fill();\n    this.ctx.closePath();\n  }\n\n  clearscreen = () => {\n    this.ctx.fillStyle = 'white';\n    this.fillscreen();\n    this.ctx.fillStyle = this.state.colour;\n  }\n\n  fillscreen = () => {\n    this.ctx.fillRect(0, 0, this.refs.canvas.width, this.refs.canvas.height);\n  }\n\n  drawImage = (base64EncodedImage) => {\n    if (!base64EncodedImage) {\n      this.clearscreen();\n    }\n    let image = new Image();\n    image.onload = () => {\n      this.ctx.drawImage(image, 0, 0);\n    }\n    image.src = base64EncodedImage;\n  }\n\n  saveImage = () => {\n    this.undoStack.push(this.refs.canvas.toDataURL());\n  }\n\n  undoImage = () => {\n    this.drawImage(this.undoStack.undo().pop());\n  }\n\n  redoImage = () => {\n    this.drawImage(this.undoStack.redo().pop());\n  }\n\n  /***************************************************************************\n   * Button Event Handlers                                                   *\n   ***************************************************************************/\n\n  handleNewRadius = (radius) => {\n    this.setState({radius: radius});\n  }\n\n  handleColour = (event) => {\n    this.setState({\n      colour: event.target.style.backgroundColor\n    });\n  };\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  render() {\n    return (\n      <div\n        onKeyDown={this.handleKeyDown}\n        tabIndex={-1}\n        style={{outline: 'none'}}\n      >\n        <Paper style={styles.canvasContainer}>\n          <canvas\n            ref='canvas'\n            onMouseDown={this.handleMouseDown}\n            onMouseUp={this.handleMouseUp}\n            onMouseMove={this.handleMouseMove}\n            onTouchStart={this.handleTouchStart}\n            onTouchEnd={this.handleTouchEnd}\n            // Moved onTouchMove to componentDidMount.\n            style={styles.canvas}\n          />\n        </Paper>\n        <Divider style={styles.divider} />\n        <div style={styles.toolbar}>\n          <div style={styles.colours}>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'black'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'red'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'green'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'blue'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'yellow'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'white'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'aqua'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'purple'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'brown'}}/>\n            <Paper onClick={this.handleColour} style={{backgroundColor: 'orange'}}/>\n          </div>\n          <div style={styles.misc}>\n            <Tooltip title='Small Brush' placement='top'>\n              <Paper onClick={this.handleNewRadius.bind(this, 1)}>\n                <svg style={styles.svg}><circle cx='20' cy='20' r='5' fill='black' /></svg>\n              </Paper>\n            </Tooltip>\n            <Tooltip title='Medium Brush' placement='top'>\n              <Paper onClick={this.handleNewRadius.bind(this, 3)}>\n                <svg style={styles.svg}><circle cx='20' cy='20' r='10' fill='black' /></svg>\n              </Paper>\n            </Tooltip>\n            <Tooltip title='Large Brush' placement='top'>\n              <Paper onClick={this.handleNewRadius.bind(this, 15)}>\n                <svg style={styles.svg}><circle cx='20' cy='20' r='15' fill='black' /></svg>\n              </Paper>\n            </Tooltip>\n            <Tooltip title='Undo' placement='bottom'>\n              <IconButton onClick={this.undoImage}>\n                <UndoIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title='Redo' placement='bottom'>\n              <IconButton onClick={this.redoImage}>\n                <RedoIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title='Fill Screen' placement='bottom'>\n              <IconButton onClick={() => {this.fillscreen(); this.saveImage();}}>\n                <ClearIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport DrawCanvas from './DrawCanvas';\n\nconst styles = {\n  layout: {\n\n  },\n  paper: {\n    padding: '20px',\n  },\n  divider: {\n    margin: '10px',\n  }\n};\n\nexport default class DrawComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      timer: 60,\n    };\n  }\n\n  componentDidMount = () => {\n    this.progressPresenseRef = this.state.progressRef.child(this.state.chainID);\n    this.progressPresenseRef.onDisconnect().remove();\n    this.progressPresenseRef.set(false);\n    this.setState({ready: false, timer: this.state.drawTime});\n\n    // Set timer.\n    this.intervalID = setInterval(() => {\n      this.setState({timer: this.state.timer - 1});\n      if (this.state.timer <= 0) {\n        clearInterval(this.intervalID);\n        if (!this.state.ready) {\n          this.handleConfirmDrawing();\n        }\n      }\n    }, 1000);\n  }\n\n  componentWillUnmount = () => {\n    if (this.intervalID) {\n      clearInterval(this.intervalID);\n    }\n    delete this.chainRef;\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      gameRef: props.gameRef,\n      progressRef: props.progressRef,\n      players: props.players,\n      drawTime: props.drawTime,\n      userID: props.userID,\n      chainID: props.chainID,\n      numNotReady: props.numNotReady,\n      data: props.data,\n    };\n  }\n\n  /***************************************************************************\n   * Button Events                                                           *\n   ***************************************************************************/\n\n  handleConfirmDrawing = (event) => {\n    if (this.chainRef) {\n      this.chainRef.update({image: this.refs.drawing.refs.canvas.toDataURL()});\n    } else {\n      this.chainRef = this.state.gameRef.child('chains').child(this.state.chainID).push();\n      this.chainRef.set({\n        image: this.refs.drawing.refs.canvas.toDataURL(),\n        userID: this.state.userID,\n      });\n    }\n\n    if (!this.state.ready) {\n      this.progressPresenseRef.remove().then(() => {\n        this.progressPresenseRef.onDisconnect().cancel();\n        delete this.progressPresenseRef;\n      });\n      this.setState({ready: true});\n    }\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        <Paper style={styles.paper}>\n          <Typography variant='h6'>\n            You are drawing <b>{this.state.players[this.state.data.userID].nickName}</b>'s word:\n          </Typography>\n          <Typography variant='h5'>\n            <b>{this.state.data.word}</b>\n          </Typography>\n        </Paper>\n        <Divider style={styles.divider} />\n        <DrawCanvas ref='drawing'/>\n        <Divider style={styles.divider} />\n        <Paper style={styles.paper}>\n          <Typography variant='h6'>\n            {this.state.timer ? this.state.timer + 's remaining' : ''}\n          </Typography>\n          <Typography>\n            {this.state.numNotReady && this.state.ready ? 'Waiting on ' + this.state.numNotReady + ' players...' : ''}\n          </Typography>\n          <Button\n            variant='contained'\n            onClick={this.handleConfirmDrawing}\n          >\n            {this.state.ready ? 'Update Drawing' : 'Finished Drawing'}\n          </Button>\n        </Paper>\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  layout: {\n\n  },\n  paper: {\n    padding: '20px',\n  },\n  divider: {\n    margin: '10px',\n  },\n};\n\nexport default class GuessComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ready: false,\n      guess: '',\n    };\n  }\n\n  componentDidMount = () => {\n    this.progressPresenseRef = this.state.progressRef.child(this.state.chainID);\n    this.progressPresenseRef.onDisconnect().remove();\n    this.progressPresenseRef.set(false);\n    this.setState({ready: false});\n  }\n\n  componentWillUnount = () => {\n    delete this.chainRef;\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      gameRef: props.gameRef,\n      progressRef: props.progressRef,\n      players: props.players,\n      chainID: props.chainID,\n      userID: props.userID,\n      numNotReady: props.numNotReady,\n      data: props.data,\n    };\n  }\n\n  /***************************************************************************\n   * Button Events                                                           *\n   ***************************************************************************/\n\n  handleConfirmGuess = (event) => {\n    if (!this.state.guess) {\n      window.alert(\"You didn't guess anything\");\n      return;\n    }\n\n    if (this.chainRef) {\n      this.chainRef.update({word: this.state.guess});\n    } else {\n      // Push a new link in the chain and update server.\n      this.chainRef = this.state.gameRef.child('chains').child(this.state.chainID).push();\n      this.chainRef.set({\n        word: this.state.guess,\n        userID: this.state.userID,\n      });\n    }\n\n    if (!this.state.ready) {\n      this.progressPresenseRef.remove().then(() => {\n        this.progressPresenseRef.onDisconnect().cancel();\n        delete this.progressPresenseRef;\n      });\n      this.setState({ready: true});\n    }\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        <Paper style={styles.paper}>\n          <Typography variant='h6'>\n            You are guessing <b>{this.state.players[this.state.data.userID].nickName}</b>'s image:\n          </Typography>\n        </Paper>\n        <Divider style={styles.divider}/>\n        <Paper>\n          <img ref='img' alt='guess' src={this.state.data.image} />\n        </Paper>\n        <Divider style={styles.divider} />\n        <Paper style={styles.paper}>\n          <Typography>\n            {this.state.numNotReady && this.state.ready ? 'Waiting on ' + this.state.numNotReady + ' players...' : ''}\n          </Typography>\n          <TextField\n            label='What do you see?'\n            value={this.state.guess}\n            onChange={(event) => this.setState({guess: event.target.value})}\n          />\n          <Button\n            variant='contained'\n            onClick={this.handleConfirmGuess}\n          >\n            {this.state.ready ? 'Update Guess' : 'Guess'}\n          </Button>\n        </Paper>\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport DrawComponent from './DrawComponent';\nimport GuessComponent from './GuessComponent';\n\nconst styles = {\n  layout: {\n\n  },\n  paper: {\n    padding: '20px',\n  },\n};\n\nexport default class GamePhaseComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ready: false,\n    };\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.chainID !== this.props.chainID) {\n      this.updateChainLinkData();\n    }\n  }\n\n  componentDidMount = () => {\n    this.updateChainLinkData();\n    this.numNotReadyListener = (snapshot) => {\n        if (snapshot.val()) {\n          this.setState({numNotReady: Object.keys(snapshot.val()).length});\n        }\n      };\n    this.props.progressRef.on('value', this.numNotReadyListener);\n  }\n\n  componentWillUnmount = () => {\n    this.props.progressRef.off('value', this.numNotReadyListener);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      gameRef: props.gameRef,\n      progressRef: props.progressRef,\n      settings: props.settings,\n      chainID: props.chainID,\n      userID: props.userID,\n    };\n  }\n\n  updateChainLinkData = () => {\n    this.state.gameRef.child('chains').child(this.state.chainID)\n      .limitToLast(1).once('child_added', (snapshot) => {\n        if (snapshot.val()) {\n          this.setState({chainLinkData: snapshot.val()});\n        }\n      });\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  getMainComponent = () => {\n    if (this.state.chainLinkData && this.state.chainLinkData.image) {\n      return (\n        <GuessComponent\n          gameRef={this.state.gameRef}\n          progressRef={this.state.progressRef}\n          players={this.state.settings.players}\n          chainID={this.state.chainID}\n          userID={this.state.userID}\n          numNotReady={this.state.numNotReady}\n          data={this.state.chainLinkData}\n        />\n      );\n    } else if (this.state.chainLinkData && this.state.chainLinkData.word) {\n      return (\n        <DrawComponent\n          gameRef={this.state.gameRef}\n          progressRef={this.state.progressRef}\n          players={this.state.settings.players}\n          drawTime={this.state.settings.drawTime}\n          chainID={this.state.chainID}\n          userID={this.state.userID}\n          numNotReady={this.state.numNotReady}\n          data={this.state.chainLinkData}\n        />\n      );\n    } else {\n      return (\n        <Paper style={styles.paper}>\n          <Typography variant='h5'>\n            Loading game phase...\n          </Typography>\n        </Paper>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        {this.getMainComponent()}\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  layout: {\n\n  }\n};\n\nexport default class ChainLinkView extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      data: props.data,\n      players: props.players,\n    };\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  getMainComponent = () => {\n    if (this.state.data.word) {\n      return (\n        <Typography variant='subtitle1'>\n          <b>{this.state.players[this.state.data.userID].nickName}</b> guessed: <b>{this.state.data.word}</b>\n        </Typography>\n      );\n    } else {\n      return [\n        <Typography variant='subtitle1'>\n          <b>{this.state.players[this.state.data.userID].nickName}</b> drew this:\n        </Typography>,\n        <img src={this.state.data.image} alt='Broken Image, Sorry!'/>\n      ];\n    }\n  }\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        {this.getMainComponent()}\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport ChainLinkView from './ChainLinkView';\n\nconst styles = {\n  layout: {\n\n  },\n  chainContainer: {\n\n  },\n  divider: {\n    margin: '10px',\n  },\n  paper: {\n    padding: '20px',\n    margin: '10px',\n  },\n  headerContainer: {\n    maxWidth: '500px',\n  },\n};\n\nexport default class SpectateComponent extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      synced: false,\n    };\n  }\n\n  /***************************************************************************\n   * Lifecycle functions                                                     *\n   ***************************************************************************/\n\n  componentDidMount = () => {\n    // Register a listener for shared room state.\n    this.sharedRef = this.state.gameRef.child('spectateState');\n    this.sharedRef.on('value', (snapshot) => {\n      if (snapshot.val()) {\n        this.setState({\n          synced: true,\n          sharedState: snapshot.val(),\n        });\n      }\n    });\n\n    // Load in all chain data.\n    this.state.gameRef.child('chains').once('value').then((snapshot) => {\n      if (snapshot.val()) {\n        let chains = {};\n        snapshot.forEach((chainSnapshot) => {\n          let thisChain = [];\n          chainSnapshot.forEach((chainLinkSnapshot) => {\n            thisChain.push(chainLinkSnapshot.val());\n          });\n          chains[chainSnapshot.key] = thisChain;\n        });\n        this.setState({\n          chains: chains,\n        });\n      }\n    });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      gameRef: props.gameRef,\n      players: props.players,\n      userID: props.userID,\n    };\n  }\n\n  /***************************************************************************\n   * Button Events                                                           *\n   ***************************************************************************/\n\n  handleStartSync = (event) => {\n    this.sharedRef.set({\n      driverID: this.state.userID,\n      chainID: this.state.userID,\n    });\n  }\n\n  handleBecomeDriver = (event) => {\n    this.sharedRef.update({driverID: this.state.userID});\n  }\n\n  handleNext = (event) => {\n    const chainIDs = Object.keys(this.state.chains);\n    let idx = chainIDs.indexOf(this.state.sharedState.chainID) + 1;\n    if (idx >= chainIDs.length) {\n      idx = 0;\n    }\n    this.sharedRef.update({\n      chainID: chainIDs[idx],\n    });\n  }\n\n  handlePrevious = (event) => {\n    const chainIDs = Object.keys(this.state.chains);\n    let idx = chainIDs.indexOf(this.state.sharedState.chainID);\n    if (idx === 0) {\n      idx = chainIDs.length;\n    }\n    this.sharedRef.update({\n      chainID: chainIDs[idx-1],\n    });\n  }\n\n  handleLeave = (event) => {\n    if (this.props.onLeave) {\n      this.props.onLeave();\n    } else {\n      console.log('No onLeave handler found.');\n    }\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  getChainItems = (chainID) => {\n    return [\n      <Typography variant='h6'>\n        The original word was: <b>{this.state.chains[chainID][0].word}</b>\n      </Typography>,\n      <Divider style={styles.divider} />,\n      this.state.chains[chainID].slice(1).map((chainLink) => {\n        return (\n          <ChainLinkView data={chainLink} players={this.state.players} />\n        );\n      }),\n    ];\n  }\n  \n  getMainComponent = () => {\n    if (this.state.chains) {\n      let chainID = this.state.userID;\n      if (this.state.sharedState && this.state.sharedState.chainID) {\n        chainID = this.state.sharedState.chainID;\n      }\n      return (\n        <div style={styles.chainContainer}>\n          {this.getChainItems(chainID)}\n        </div>\n      );\n    } else {\n      return (\n        <Typography>\n          Loading results...\n        </Typography>\n      );\n    }\n  }\n\n  getHeader = () => {\n    if (this.state.synced) {\n      return (\n        <div>\n          <Typography variant='h5'>\n            Reviewing Results\n          </Typography>\n          <Typography variant='subtitle1'>\n            Let's see the results with everyone!\n          </Typography>\n          <Button\n            variant='contained'\n            disabled={this.state.sharedState.driverID !== this.state.userID}\n            onClick={this.handlePrevious}\n            style={{margin: '5px'}}\n          >\n            Previous Chain\n          </Button>\n          <Button\n            variant='contained'\n            disabled={this.state.sharedState.driverID === this.state.userID}\n            onClick={this.handleBecomeDriver}\n            style={{margin: '5px'}}\n          >\n            Become Driver\n          </Button>\n          <Button\n            variant='contained'\n            disabled={this.state.sharedState.driverID !== this.state.userID}\n            onClick={this.handleNext}\n            style={{margin: '5px'}}\n          >\n            Next Chain\n          </Button>\n        </div>\n      );\n    } else {\n      return(\n        <div style={styles.headerContainer}>\n          <Typography variant='h5'>\n            Your Chain\n          </Typography>\n          <Typography variant='subtitle1'>\n            Take a sneak peak at how your chalk chain turned out,\n            then join everyone else in reviewing their results!\n          </Typography>\n          <Button\n            variant='contained'\n            onClick={this.handleStartSync}\n          >\n            Review Results\n          </Button>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        <Paper style={styles.paper}>\n          {this.getHeader()}\n        </Paper>\n        <Paper style={styles.paper}>\n          {this.getMainComponent()}\n          <Divider style={styles.divider} />\n          <Button\n            variant='contained'\n            onClick={this.handleLeave}\n          >\n            Back to Waiting Room\n          </Button>\n        </Paper>\n      </div>\n    );\n  };\n};\n","import React, { Component } from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = {\n  layout: {\n\n  },\n  paper: {\n    padding: '20px',\n  },\n};\n\nexport default class StartComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ready: false,\n      word: '',\n    };\n  }\n\n  componentDidMount = () => {\n    this.progressPresenseRef = this.state.progressRef.child(this.state.chainID);\n    this.progressPresenseRef.onDisconnect().remove();\n    this.progressPresenseRef.set(false);\n    this.setState({ready: false});\n  }\n\n  componentWillUnmount = () => {\n    delete this.chainRef;\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      gameRef: props.gameRef,\n      progressRef: props.progressRef,\n      chainID: props.chainID,\n      prevNick: props.players[props.prevID].nickName,\n      users: props.players,\n    };\n  }\n\n  /***************************************************************************\n   * Button Events                                                           *\n   ***************************************************************************/\n\n  handleConfirmWord = (event) => {\n    if (!this.state.word) {\n      window.alert('Please enter a word for people to draw');\n      return;\n    }\n\n    if (this.chainRef) {\n      this.chainRef.update({word: this.state.word});\n    } else {\n      this.chainRef = this.state.gameRef.child('chains').child(this.state.chainID).push();\n      this.chainRef.set({\n        word: this.state.word,\n        userID: this.state.chainID,\n      });\n    }\n\n    if (!this.state.ready) {\n      this.progressPresenseRef.remove().then(() => {\n        this.progressPresenseRef.onDisconnect().cancel();\n        delete this.progressPresenseRef;\n      });\n      this.setState({ready: true});\n    }\n  }\n  \n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        <Paper style={styles.paper}>\n          <Typography variant='h6'>\n            You are selecting a word for: <b>{this.state.prevNick}</b>\n          </Typography>\n          <TextField\n            label='Your word'\n            value={this.state.word}\n            onChange={(event) => this.setState({word: event.target.value})}\n          />\n          <Button\n            variant='contained'\n            onClick={this.handleConfirmWord}\n          >\n            {this.state.ready ? 'Update' : 'Confirm'}\n          </Button>\n        </Paper>\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n\nimport GamePhaseComponent from './GamePhaseComponent';\nimport SpectateComponent from './SpectateComponent';\nimport StartComponent from './StartComponent';\n\nconst styles = {\n  layout: {\n\n  },\n};\n\nexport default class GameComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mainView: 'START_VIEW',\n    };\n  }\n\n  componentDidMount = () => {\n    // Establish presense in game.\n    this.presenseRef = this.state.gameRef.child('activePlayers').child(this.state.userID);\n    this.presenseRef.onDisconnect().remove();\n    this.presenseRef.set(this.state.userID);\n\n    // Set listener to progress through game if everybody is ready.\n    this.progressRef = this.state.gameRef.child('notReady');\n    this.progressRef.on('value', (snapshot) => {\n      if (!snapshot.val()) {\n        this.progressGame();\n      }\n    });\n\n    this.setState({mainView: 'START_VIEW', chainID: this.state.userID});\n  }\n\n  componentWillUnmount = () => {\n    this.progressRef.off();\n    delete this.progressRef;\n    this.presenseRef.remove().then(() => {\n      this.presenseRef.onDisconnect().cancel();\n      delete this.presenseRef;\n    });\n\n    // Also remove self from players list, to avoid being sucked back into the game.\n    this.state.gameRef.child('settings').child('players').child(this.state.userID).remove();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      gameRef: props.viewProps.gameRef,\n      settings: props.viewProps.settings,\n      userID: props.userID,\n    };\n  }\n\n  /***************************************************************************\n   * Progression Event                                                       *\n   ***************************************************************************/\n\n  progressGame = () => {\n    const nextChain = this.state.settings.order[this.state.chainID].next;\n    if (nextChain === this.state.userID) {\n      // We've gone full circle.\n      this.setState({\n        mainView: 'SPECTATE_VIEW',\n      });\n    } else if (this.state.settings.maxRounds &&\n        this.state.settings.maxRounds < this.calculateCurrentRoundNumber()) {\n      this.setState({\n        mainView: 'SPECTATE_VIEW',\n      });\n    } else {\n      this.setState({\n        mainView: 'GAME_PHASE_VIEW',\n        chainID: nextChain,\n      });\n    }\n  }\n\n  // Linearly calculate round number using userID and chainID.\n  // \n  calculateCurrentRoundNumber = () => {\n    let roundNumber = 1;\n    let chainID = this.state.userID;\n    while (chainID !== undefined && chainID != this.state.chainID) {\n      ++roundNumber;\n      chainID = this.state.settings.order[chainID];\n    }\n    return roundNumber;\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  getMainComponent = () => {\n    if (this.state.mainView === 'GAME_PHASE_VIEW') {\n      return (\n        <GamePhaseComponent\n          gameRef={this.state.gameRef}\n          progressRef={this.state.gameRef.child('notReady')}\n          settings={this.state.settings}\n          chainID={this.state.chainID}\n          userID={this.state.userID}\n        />\n      );\n    } else if (this.state.mainView === 'SPECTATE_VIEW') {\n      return (\n        <SpectateComponent\n          gameRef={this.state.gameRef}\n          players={this.state.settings.players}\n          userID={this.state.userID}\n          onLeave={this.props.onLeave}\n        />\n      );\n    } else { // Default to START_VIEW.\n      return (\n        <StartComponent\n          gameRef={this.state.gameRef}\n          progressRef={this.state.gameRef.child('notReady')}\n          chainID={this.state.userID}\n          prevID={this.state.settings.order[this.state.userID].prev}\n          players={this.state.settings.players}\n        />\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div style={styles.layout}>\n        {this.getMainComponent()}\n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\n\nimport './App.css';\nimport Entry from './components/Entry';\nimport RoomComponent from './components/RoomComponent';\nimport GameComponent from './components/GameComponent';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    // Initialize Firebase\n    const config = {\n      apiKey: process.env.REACT_APP_API_KEY,\n      authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n      databaseURL: process.env.REACT_APP_DATABASE_URL,\n      projectId: process.env.REACT_APP_PROJECT_ID,\n      storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n      messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID\n    };\n    firebase.initializeApp(config);\n\n    this.state = {\n      mainView: 'ENTRY_VIEW',\n    };\n  }\n\n  /***************************************************************************\n   * Entry Event Handlers                                                    *\n   ***************************************************************************/\n\n  handleCreateRoom = (roomName, nickName) => {\n    if (roomName) {\n      this.joinIfNotExist(\n        roomName,\n        nickName,\n        this.onJoinedRoom,\n        (error) => {\n          window.alert('Failed to join room: ' + error);\n        },\n        () => {\n          window.alert('Room already exists with that name.');\n        }\n      );\n    } else {\n      this.createRandomRoom(nickName, this.onJoinedRoom, (error) => {\n        window.alert('Failed to join room: ' + error);\n      });\n    }\n  }\n\n  handleJoinRoom = (roomName, nickName) => {\n    this.joinIfExist(\n      roomName,\n      nickName,\n      this.onJoinedRoom,\n      undefined,\n      () => {\n        window.alert('No room found with that name.');\n      }\n    );\n  }\n\n  /***************************************************************************\n   * Entry Request Helpers                                                   *\n   ***************************************************************************/\n\n  /**\n   * Recursively attempts to create a room with a random name.\n   *\n   * On success, calls onSuccess with room name, user ID, and nickname.\n   *    Also sets a presense node under /rooms/<roomName>/users/<userID>\n   * On error, returns error message.\n   */\n  createRandomRoom = (nickName, onSuccess, onError) => {\n    this.joinIfNotExist(\n      this.randomName(),    // Random room name.\n      nickName,\n      onSuccess,\n      onError,\n      this.createRandomRoom // Recursively retry with new room name.\n    );\n  }\n\n  /**\n   * Attempts to create a room with roomName.\n   * \n   * On success, calls onSuccess with room name, user ID, and nickname.\n   *    Also sets a presense node under /rooms/<roomName>/users/<userID>\n   * On error, returns error message.\n   * On room exists, calls onRoomExist with nickname, onSuccess, and onError.\n   */\n  joinIfNotExist = (roomName, nickName, onSuccess, onError, onRoomExist) => {\n    const roomUrl = '/rooms/' + roomName;\n    let roomRef = firebase.database().ref(roomUrl);\n    // Note: This transaction is only to check existence of the room.\n    return roomRef.transaction((currentData) => {\n      if (currentData === null) {\n        // Not exactly sure if this does what I want, but it works, so :/\n        return {\n          users: null\n        };\n      } else {\n        console.log('Room already exists.');\n        return; // Abort the transaction.\n      }\n    }, (error, committed, snapshot) => {\n      if (error) {\n        onError(error);\n      } else if (!committed) {\n        if (onRoomExist) {\n          onRoomExist(nickName, onSuccess, onError);\n        }\n      } else {\n        let presenseRef = firebase.database().ref(roomUrl + '/users').push();\n        presenseRef.onDisconnect().remove();\n        // Note: This assumes set cannot fail.\n        presenseRef.set({\n          nickName: nickName\n        }).then(() => onSuccess(roomName, presenseRef.key));\n      }\n    });\n  }\n\n  /**\n   * Attempts to join a room with roomName.\n   *\n   * On success, calls onSuccess with room name and user ID.\n   *    Also sets a presense node under /rooms/<roomName>/users/<userID>\n   * On no room, calls onNoRoom.\n   * This function cannot actually call onError.\n   */\n  joinIfExist = (roomName, nickName, onSuccess, onError, onNoRoom) => {\n    let roomRef = firebase.database().ref('/rooms');\n    roomRef.once('value', (snapshot) => {\n      if (snapshot.hasChild(roomName)) {\n        let presenseRef = firebase.database().ref('/rooms/' + roomName + '/users').push();\n        presenseRef.onDisconnect().remove();\n        // Note: This assumes set cannot fail.\n        presenseRef.set({\n          nickName: nickName\n        }).then(() => onSuccess(roomName, presenseRef.key));\n      } else {\n        onNoRoom();\n      }\n    });\n  }\n\n  /**\n   * Moves self to waiting room, and sets a watch for game start.\n   *    Watches /rooms/<roomName>/game, and moves to GAME_VIEW if userID is\n   *    found under game/settings/order (AKA user is supposed to be in game).\n   *\n   * Note: This function can fail, but has no error handling.\n   */\n  onJoinedRoom = (roomName, userID) => {\n    let gameRef = firebase.database().ref('/rooms/' + roomName + '/game');\n    this.setState({\n      mainView: 'ROOM_VIEW',\n      viewProps: {\n      },\n      roomName: roomName,\n      userID: userID,\n    });\n    gameRef.on('value', (snapshot) => {\n      const value = snapshot.val();\n      if (value && value.settings && value.settings.players) {\n        if (value.settings.players[userID]) {\n          this.setState({\n            mainView: 'GAME_VIEW',\n            viewProps: {\n              settings: value.settings,\n              gameRef: snapshot.ref,\n            },\n          });\n          snapshot.ref.off('value');\n        } // else: user was not included in game, wait until next game.\n      }\n    });\n  }\n\n  // Actually psuedorandom. Returns 6 digit hex number.\n  randomName = () => {\n    let buf = new Uint8Array(3);\n    window.crypto.getRandomValues(buf);\n    return Array.from(buf, function(decimal) {\n      // Convert to hex, pad front with '0', then take last two characters.\n      return ('0' + decimal.toString(16)).substr(-2);\n    }).join('').toUpperCase();\n  }\n\n  handleLeaveGame = () => {\n    this.onJoinedRoom(this.state.roomName, this.state.userID);\n  }\n\n  /***************************************************************************\n   * Render                                                                  *\n   ***************************************************************************/\n\n  getMainComponent = () => {\n    if (this.state.mainView === 'ROOM_VIEW') {\n      return (\n        <RoomComponent\n          viewProps={this.state.viewProps}\n          roomName={this.state.roomName}\n          userID={this.state.userID}\n          roomRef={firebase.database().ref('/rooms/' + this.state.roomName)}\n        />\n      );\n    } else if (this.state.mainView === 'GAME_VIEW') {\n      return (\n        <GameComponent\n          viewProps={this.state.viewProps}\n          userID={this.state.userID}\n          onLeave={this.handleLeaveGame}\n        />\n      );\n    } else { // Default to ENTRY_VIEW.\n      return (\n        <Entry\n          onJoinRoom={this.handleJoinRoom}\n          onCreateRoom={this.handleCreateRoom}\n        />\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {this.getMainComponent()}\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}